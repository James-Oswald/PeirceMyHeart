(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();class s{constructor(t,e){if(this.x=t??0,this.y=e??0,!Number.isFinite(this.x)||!Number.isFinite(this.y))throw new Error("NaN or Infinity value(s) were passed in constructing a Point.")}set(t,e){if(!Number.isFinite(t)||!Number.isFinite(e))throw new Error("NaN or Infinity value(s) were passed in setting "+this+"'s coords.");this.x=t,this.y=e}distance(t){const e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)}toString(){return"("+this.x+", "+this.y+")"}}function m(n,t){if(n instanceof g)return t instanceof g?j(n,t):T(t,n);if(t instanceof g)return T(n,t);if(m(n.boundingBox,t.boundingBox)||I(t.boundingBox,n.boundingBox)){const e=O(n);for(let r=0;r<e.length;r++)if(P(t,e[r]))return!0}return!1}function T(n,t){const e=O(n);for(let r=0;r<e.length;r++)if(B(t,e[r]))return!0;return!1}function I(n,t){if(n instanceof g)if(t instanceof g){const e=t.getCorners();for(let r=0;r<4;r++)if(!B(n,e[r]))return!1;return!0}else{const e=Z(t);for(let r=0;r<4;r++)if(!B(n,e[r]))return!1;return!0}else if(t instanceof g){const e=t.getCorners();for(let r=0;r<4;r++)if(!P(n,e[r]))return!1;return!0}else{const e=O(t);for(let r=0;r<e.length;r++)if(!P(n,e[r]))return!1;return!0}}function j(n,t){const e=n.getCorners(),r=t.getCorners();return(e[0].y<=r[0].y&&e[2].y>=r[0].y||e[0].y<=r[2].y&&e[2].y>=r[2].y||r[0].y<=e[0].y&&r[2].y>=e[0].y||r[0].y<=e[2].y&&r[2].y>=e[2].y)&&(e[0].x<=r[0].x&&e[1].x>=r[0].x||e[0].x<=r[1].x&&e[1].x>=r[1].x||r[0].x<=e[0].x&&r[1].x>=e[0].x||r[0].x<=e[1].x&&r[1].x>=e[1].x)}function B(n,t){const e=n.getCorners();return e[0].x<=t.x&&e[1].x>=t.x&&e[0].y<=t.y&&e[2].y>=t.y}function P(n,t){return Math.pow(t.x-n.center.x,2)/Math.pow(n.radiusX,2)+Math.pow(t.y-n.center.y,2)/Math.pow(n.radiusY,2)<=1}function Z(n){return[new s(n.center.x,n.center.y-n.radiusY),new s(n.center.x+n.radiusX,n.center.y),new s(n.center.x,n.center.y+n.radiusY),new s(n.center.x-n.radiusX,n.center.y)]}function O(n){const t=[];let e,r,i=1;for(let o=0;o<360;o++)e=n.center.x+n.radiusX*Math.cos(o*(Math.PI/180)),o>180&&(i=-1),r=J(n,e,i),t[o]=new s(e,r);return t}function J(n,t,e){return e*n.radiusY*Math.sqrt(1-Math.pow((t-n.center.x)/n.radiusX,2))+n.center.y}class g{constructor(t,e,r){if(!Number.isFinite(e)||!Number.isFinite(r))throw new Error("Infinity/NaN passed in for width/height while constructing a Rectangle.");if(e!==void 0&&e<0)throw new Error("Negative value passed for width while constructing a Rectangle.");if(r!==void 0&&r<0)throw new Error("Negative value passed for height while constructing a Rectangle.");this.startVertex=t??new s(0,0),this.width=e??0,this.height=r??0}getCorners(){const t=[this.startVertex];return t.push(new s(this.startVertex.x+this.width,this.startVertex.y)),t.push(new s(this.startVertex.x+this.width,this.startVertex.y+this.height)),t.push(new s(this.startVertex.x,this.startVertex.y+this.height)),t}containsPoint(t){return B(this,t)}overlaps(t){return m(this,t)}contains(t){return I(this,t)}toString(){return"Rectangle with top left vertex at: "+this.startVertex.toString()+", w: "+this.width+", h: "+this.height}}class h{constructor(t,e,r){this.internalRectangle=r??new g(new s(0,0),0,0),this.internalIdentifier=t,this.internalOrigin=e??new s}get rectangle(){return this.internalRectangle}set rectangle(t){this.internalRectangle=t}get identifier(){return this.internalIdentifier}set identifier(t){this.internalIdentifier=t}get origin(){return this.internalOrigin}set origin(t){this.internalOrigin=t}containsPoint(t){return this.internalRectangle.containsPoint(t)}containsNode(t){return t instanceof h?this.internalRectangle.contains(t.rectangle):this.internalRectangle.contains(t.ellipse)}toString(){return"An atom representing the proposition: "+this.internalIdentifier+" and Boundary box of: "+this.internalRectangle.toString()}}class f{constructor(t,e){this.internalEllipse=t,this.internalChildren=e??[]}get ellipse(){return this.internalEllipse}set ellipse(t){this.internalEllipse=t}get children(){return this.internalChildren}set children(t){this.internalChildren=t}set child(t){this.internalChildren.push(t)}getCurrentCut(t){for(let e=0;e<this.internalChildren.length;e++){const r=this.internalChildren[e];if(r instanceof f&&r.containsNode(t))return r.getCurrentCut(t)}return this}containsPoint(t){return this.internalEllipse===null?!0:this.internalEllipse.containsPoint(t)}containsNode(t){return this.internalEllipse===null?!0:t instanceof h?I(this.internalEllipse,t.rectangle):I(this.internalEllipse,t.internalEllipse)}remove(t){if(this.containsPoint(t)){let e=!0;for(let r=0;r<this.internalChildren.length;r++)if(this.internalChildren[r].containsPoint(t))return e=!1,this.internalChildren[r]instanceof f?this.internalChildren[r].remove(t):(this.internalChildren=this.internalChildren.splice(r,1),!0);if(e)return!0}return!1}toString(){let t;return this.internalEllipse===null?t="Sheet of Assertion of the AEG Tree":t=`A cut node with boundary box of 
`+this.internalEllipse.toString(),this.internalChildren.length>0&&(t+=`, 
With nested nodes: `+this.internalChildren.toString()),t}toFormulaString(){let t="";for(const e of this.internalChildren)e instanceof h?t+=e.identifier:e instanceof f&&(t+=e.toFormulaString()),t+=" ";return t=t.slice(0,-1),this.internalEllipse===null?t="["+t+"]":t="("+t+")",t}}class Q{constructor(t){this.sheet=t??new f(null)}verify(){return this.verifyAEG(this.sheet)}verifyAEG(t){for(let e=0;e<t.children.length;e++){if(!t.containsNode(t.children[e]))return!1;for(let r=e+1;r<t.children.length;r++)if(this.overlaps(t.children[e],t.children[r]))return!1}for(let e=0;e<t.children.length;e++)if(t.children[e]instanceof f&&!this.verifyAEG(t.children[e]))return!1;return!0}canInsert(t){const e=this.sheet.getCurrentCut(t);for(let r=0;r<e.children.length;r++)if(this.overlaps(t,e.children[r]))return!1;return!0}insert(t){if(!this.canInsert(t))throw new Error("Insertion failed. "+t+" had a collision.");const e=this.sheet.getCurrentCut(t),r=[...e.children];if(e.child=t,t instanceof f)for(let i=r.length-1;i>=0;i--)t.containsNode(r[i])&&(t.child=r[i],e.children.splice(i,1))}remove(t){this.sheet.remove(t)}overlaps(t,e){let r,i;return t instanceof h?e instanceof h?m(t.rectangle,e.rectangle):(r=e.ellipse,m(t.rectangle,r)):e instanceof h?(r=t.ellipse,m(r,e.rectangle)):(r=t.ellipse,i=e.ellipse,m(r,i))}toString(){return this.sheet.toFormulaString()}}class X{constructor(t,e,r){if(this.center=t??new s,this.radiusX=e??0,this.radiusY=r??0,!Number.isFinite(this.radiusX)||!Number.isFinite(this.radiusY))throw new Error("A radius passed into an Ellipse construction was NaN or Infinity.");if(this.radiusX!==void 0&&this.radiusX<0)throw new Error("Horizontal radius in an Ellipse construction was negative.");if(this.radiusY!==void 0&&this.radiusY<0)throw new Error("Vertical radius in an Ellipse construction was negative.");const i=new s(this.center.x-this.radiusX,this.center.y-this.radiusY);this.boundingBox=new g(i,this.radiusX*2,this.radiusY*2)}containsPoint(t){return P(this,t)}overlaps(t){return m(this,t)}contains(t){return I(this,t)}toString(){return"An ellipse with Center at: "+this.center.toString()+", Horizontal radius: "+this.radiusX+", Vertical radius: "+this.radiusY+", Bounding box: "+this.boundingBox.toString()}}const M=document.getElementById("canvas"),$=M.getContext("2d"),_=document.getElementById("showRect"),N=document.getElementById("mode");if($===null)throw Error("2d rendering context not supported");const d=$;let E=new X,C=new s,k;function tt(n){C.x=n.clientX,C.y=n.clientY,k=!1}function et(n){const t=new f(new X),e=new s;e.x=n.clientX,e.y=n.clientY,d.clearRect(0,0,M.width,M.height),x(a.sheet),E=S(C,e),t.ellipse=E,k||(a.canInsert(t)&&G(E)?D(t,"#00FF00"):D(t,"#FF0000"))}function nt(n){let t=new f(E);const e=new s;e.x=n.clientX,e.y=n.clientY,E=S(C,e),t=new f(E),a.canInsert(t)&&!k&&G(E)&&a.insert(t),C=new s,d.clearRect(0,0,M.width,M.height),x(a.sheet)}function rt(){k=!0,C=new s,d.clearRect(0,0,M.width,M.height),x(a.sheet)}function S(n,t){const e=new s((t.x-n.x)/2+n.x,(t.y-n.y)/2+n.y),r=n.x-t.x,i=n.y-t.y,o=Math.abs(r),p=Math.abs(i);let V,A;if(N.value==="circumscribed"){const H=Math.floor(e.distance(t));A=Math.floor(H*(p/o)),V=Math.floor(H*(o/p))}else V=o/2,A=p/2;return _.checked&&(d.beginPath(),d.rect(n.x,n.y,-r,-i),d.stroke()),new X(e,V,A)}function D(n,t){d.strokeStyle=t;const e=n.ellipse,r=e.center;d.beginPath(),d.ellipse(r.x,r.y,e.radiusX,e.radiusY,0,0,2*Math.PI),d.stroke()}function G(n){return n.radiusX>15&&n.radiusY>15}const w=document.getElementById("canvas"),W=w.getContext("2d");if(W===null)throw Error("2d rendering context not supported");const c=W,q=document.getElementById("atomDisplay");let v,Y,l=new h("A");q.innerHTML=l.identifier;function it(n){new RegExp(/^[A-Za-z]$/).test(n.key)&&(l.identifier=n.key,q.innerHTML=l.identifier)}function st(n){v=c.measureText(l.identifier),Y=!1;const t=new s(n.clientX,n.clientY-v.actualBoundingBoxAscent);l.rectangle=new g(t,v.width,v.fontBoundingBoxDescent+v.actualBoundingBoxAscent),l.origin=new s(n.clientX,n.clientY),c.clearRect(0,0,w.width,w.height),x(a.sheet),a.canInsert(l)?F(l,"#00FF00"):F(l,"#FF0000")}function ot(n){l.origin=new s(n.clientX,n.clientY),l.rectangle.startVertex=new s(n.clientX,n.clientY-v.actualBoundingBoxAscent),c.clearRect(0,0,w.width,w.height),x(a.sheet),Y||(a.canInsert(l)?F(l,"#00FF00"):F(l,"#FF0000"))}function lt(){a.canInsert(l)&&!Y&&a.insert(l),l=new h(l.identifier),c.clearRect(0,0,w.width,w.height),x(a.sheet),console.log(a.toString())}function at(){l=new h(l.identifier),Y=!0,c.clearRect(0,0,w.width,w.height),x(a.sheet)}function F(n,t){c.fillStyle=t,c.strokeStyle=t;const e=n.rectangle;c.beginPath(),c.fillText(n.identifier,n.origin.x,n.origin.y),c.rect(e.startVertex.x,e.startVertex.y,e.width,e.height),c.stroke()}const y=document.getElementById("canvas");y.width=window.innerWidth;y.height=window.innerHeight;const z=y.getContext("2d");if(z===null)throw Error("2d rendering context not supported");const u=z;u.font="35pt arial";const ct=document.getElementById("graphString"),U=document.getElementById("cutTools"),K=document.getElementById("atomTools");window.addEventListener("keypress",dt);y.addEventListener("mousedown",ft);y.addEventListener("mousemove",gt);y.addEventListener("mouseup",wt);y.addEventListener("mouseout",yt);y.addEventListener("mouseenter",xt);let b="",R=!1,L=!0;const a=new Q;window.atomMode=ht;window.ellipseMode=ut;function ut(){b="cutMode",U.style.display="block",K.style.display="none"}function ht(){b="atomMode",K.style.display="block",U.style.display="none"}function dt(n){switch(b){case"atomMode":it(n);break}}function ft(n){switch(b){case"cutMode":tt(n);break;case"atomMode":st(n);break}R=!0}function gt(n){switch(b){case"cutMode":R&&L&&et(n);break;case"atomMode":R&&L&&ot(n);break}}function wt(n){switch(b){case"cutMode":nt(n);break;case"atomMode":lt();break}R=!1}function yt(){switch(b){case"cutMode":rt();break;case"atomMode":at();break}}function xt(){L=!0}function x(n){ct.innerHTML=a.toString();for(let t=0;n.children.length>t;t++)n.children[t]instanceof h?pt(n.children[t]):x(n.children[t]);n.ellipse instanceof X&&(u.strokeStyle="#000000",u.beginPath(),u.ellipse(n.ellipse.center.x,n.ellipse.center.y,n.ellipse.radiusX,n.ellipse.radiusY,0,0,2*Math.PI),u.stroke())}function pt(n){const t=n.rectangle;u.strokeStyle="#000000",u.fillStyle="#000000",u.beginPath(),u.rect(t.startVertex.x,t.startVertex.y,t.width,t.height),u.fillText(n.identifier,n.origin.x,n.origin.y),u.stroke()}
