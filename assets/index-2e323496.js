/* empty css               */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const v of f.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function n(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(s){if(s.ep)return;s.ep=!0;const f=n(s);fetch(s.href,f)}})();class o{constructor(t,n){if(this.x=t,this.y=n,!Number.isFinite(this.x)||!Number.isFinite(this.y))throw new Error("NaN or Infinity value(s) were passed in constructing a Point.")}set(t,n){if(!Number.isFinite(t)||!Number.isFinite(n))throw new Error("NaN or Infinity value(s) were passed in setting "+this+"'s coords.");this.x=t,this.y=n}distance(t){const n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)}toString(){return"("+this.x+", "+this.y+")"}}function $(e,t){return Ce(e,t)||X(t,e)}function Ce(e,t){if(e instanceof B)return t instanceof B?he(e,t):de(t,e);if(t instanceof B)return de(e,t);if(he(e.boundingBox,t.boundingBox)||X(t.boundingBox,e.boundingBox)){const n=re(e);let i;for(let s=0;s<n.length;s++)if(i=z(t,n[s]),i<=0)return!0;return!1}return!1}function de(e,t){const n=re(e);for(let i=0;i<n.length;i++)if(N(t,n[i]))return!0;return!1}function X(e,t){if(e instanceof B)if(t instanceof B){const n=t.getCorners();for(let i=0;i<4;i++)if(!N(e,n[i]))return!1;return!0}else{const n=Ve(t);for(let i=0;i<4;i++)if(!N(e,n[i]))return!1;return!0}else if(t instanceof B){const n=t.getCorners();let i;for(let s=0;s<4;s++)if(i=z(e,n[s]),!(i<0))return!1;return!0}else{const n=re(t);let i;for(let s=0;s<n.length;s++)if(i=z(e,n[s]),!(i<0))return!1;return!0}}function he(e,t){const n=e.getCorners(),i=t.getCorners();return(n[0].y<=i[0].y&&n[2].y>=i[0].y||n[0].y<=i[2].y&&n[2].y>=i[2].y||i[0].y<=n[0].y&&i[2].y>=n[0].y||i[0].y<=n[2].y&&i[2].y>=n[2].y)&&(n[0].x<=i[0].x&&n[1].x>=i[0].x||n[0].x<=i[1].x&&n[1].x>=i[1].x||i[0].x<=n[0].x&&i[1].x>=n[0].x||i[0].x<=n[1].x&&i[1].x>=n[1].x)}function N(e,t){const n=e.getCorners();return n[0].x<t.x&&n[1].x>t.x&&n[0].y<t.y&&n[2].y>t.y}function z(e,t){return Math.pow(t.x-e.center.x,2)/Math.pow(e.radiusX,2)+Math.pow(t.y-e.center.y,2)/Math.pow(e.radiusY,2)-1}function Ve(e){return[new o(e.center.x,e.center.y-e.radiusY),new o(e.center.x+e.radiusX,e.center.y),new o(e.center.x,e.center.y+e.radiusY),new o(e.center.x-e.radiusX,e.center.y)]}function re(e){const t=[];let n,i,s=1;for(let f=0;f<360;f++)n=e.center.x+e.radiusX*Math.cos(f*(Math.PI/180)),f>180&&(s=-1),i=Ge(e,n,s),t[f]=new o(n,i);return t}function Ge(e,t,n){return e.radiusX===0||e.radiusY===0?e.center.y:n*e.radiusY*Math.sqrt(1-Math.pow((t-e.center.x)/e.radiusX,2))+e.center.y}class B{constructor(t,n,i){if(!Number.isFinite(n)||!Number.isFinite(i))throw new Error("Infinity/NaN passed in for width/height while constructing a Rectangle.");if(n!==void 0&&n<0)throw new Error("Negative value passed for width while constructing a Rectangle.");if(i!==void 0&&i<0)throw new Error("Negative value passed for height while constructing a Rectangle.");this.startVertex=t,this.width=n,this.height=i}getCorners(){const t=[this.startVertex];return t.push(new o(this.startVertex.x+this.width,this.startVertex.y)),t.push(new o(this.startVertex.x+this.width,this.startVertex.y+this.height)),t.push(new o(this.startVertex.x,this.startVertex.y+this.height)),t}containsPoint(t){return N(this,t)}overlaps(t){return $(this,t)}contains(t){return X(this,t)}toString(){return"Rectangle with top left vertex at: "+this.startVertex.toString()+", w: "+this.width+", h: "+this.height}}class c{constructor(t,n,i,s){if(t.length!==1)throw new Error("String of length "+t.length+" passed in as identifier in AtomNode constructor, which is not of length 1.");if(!/^[A-Za-z]$/.test(t))throw new Error(t+" not contained in Latin alphabet passed in as identifier in AtomNode constructor.");this.internalIdentifier=t,this.internalOrigin=n,this.internalWidth=i,this.internalHeight=s}get width(){return this.internalWidth}set width(t){this.internalWidth=t}get height(){return this.internalHeight}set height(t){this.internalHeight=t}get identifier(){return this.internalIdentifier}set identifier(t){this.internalIdentifier=t}get origin(){return this.internalOrigin}set origin(t){this.internalOrigin=t}containsPoint(t){return this.calcRect().containsPoint(t)}toString(){return"An atom representing the proposition: "+this.internalIdentifier+" and Boundary box of: "+this.calcRect().toString()}calcRect(){return new B(new o(this.internalOrigin.x,this.internalOrigin.y-this.internalHeight),this.internalWidth,this.internalHeight)}}class u{constructor(t,n){this.internalEllipse=t,this.internalChildren=n??[]}get ellipse(){return this.internalEllipse}set ellipse(t){this.internalEllipse=t}get children(){return this.internalChildren}set children(t){this.internalChildren=t}set child(t){this.internalChildren.push(t)}getCurrentCut(t){for(let n=0;n<this.internalChildren.length;n++){const i=this.internalChildren[n];if(i instanceof u&&i.containsNode(t))return i.getCurrentCut(t)}return this}containsPoint(t){return this.internalEllipse===null?!0:this.internalEllipse.containsPoint(t)}containsNode(t){return this.internalEllipse===null?!0:t instanceof c?X(this.internalEllipse,t.calcRect()):X(this.internalEllipse,t.internalEllipse)}getLowestNode(t){if(!this.containsPoint(t))return null;for(let n=0;n<this.internalChildren.length;n++)if(this.internalChildren[n].containsPoint(t))return this.internalChildren[n]instanceof c||this.internalChildren[n]instanceof u&&this.internalChildren[n].children.length===0?this.internalChildren[n]:this.internalChildren[n].getLowestNode(t);return this}getLowestParent(t){if(!this.containsPoint(t))throw new Error("This parent "+this.toString+" does not contain the point.");for(let n=0;n<this.internalChildren.length;n++)if(this.internalChildren[n].containsPoint(t)){if(this.internalChildren[n]instanceof c||this.internalChildren[n]instanceof u&&this.internalChildren[n].children.length===0)return this;{const i=this.internalChildren[n];for(let s=0;s<i.children.length;s++)if(i.children[s].containsPoint(t))return i.getLowestParent(t);return this}}return null}remove(t){if(!this.containsPoint(t))return!1;for(let n=0;n<this.children.length;n++)if(this.children[n].containsPoint(t)){if(this.children[n]instanceof c||this.children[n]instanceof u&&this.children[n].children.length===0)return this.children.splice(n,1),!0;for(let i=0;i<this.children[n].children.length;i++)if(this.children[n].children[i].containsPoint(t))if(this.children[n].children[i]instanceof c)this.children[n].children.splice(i,1);else return this.children[n].children[i].remove(t);return this.children.splice(n,1),!0}return!1}toString(){let t;return this.internalEllipse===null?t="Sheet of Assertion of the AEG Tree":t="A cut node with boundary box of "+this.internalEllipse.toString(),this.internalChildren.length>0&&(t+=", With nested nodes: "+this.internalChildren.toString()),t}toFormulaString(){let t="";for(const n of this.internalChildren)n instanceof c?t+=n.identifier:n instanceof u&&(t+=n.toFormulaString()),t+=" ";return t=t.slice(0,-1),this.internalEllipse===null?t="["+t+"]":t="("+t+")",t}}class q{constructor(t){this.internalSheet=t??new u(null)}get sheet(){return this.internalSheet}set sheet(t){this.internalSheet=t}verify(){return this.verifyAEG(this.internalSheet)}verifyAEG(t){for(let n=0;n<t.children.length;n++){if(!t.containsNode(t.children[n]))return!1;for(let i=n+1;i<t.children.length;i++)if(this.overlaps(t.children[n],t.children[i]))return!1}for(let n=0;n<t.children.length;n++)if(t.children[n]instanceof u&&!this.verifyAEG(t.children[n]))return!1;return!0}canInsert(t){const n=this.internalSheet.getCurrentCut(t);for(let i=0;i<n.children.length;i++)if(this.intersects(t,n.children[i]))return!1;return!0}insert(t){if(!this.canInsert(t))throw new Error("Insertion failed. "+t+" had a collision.");const n=this.internalSheet.getCurrentCut(t),i=[...n.children];if(n.child=t,t instanceof u)for(let s=i.length-1;s>=0;s--)t.containsNode(i[s])&&(t.child=i[s],n.children.splice(s,1));return!0}getLowestNode(t){return this.internalSheet.getLowestNode(t)}getLowestParent(t){return this.internalSheet.getLowestParent(t)}remove(t){return this.internalSheet.remove(t)}intersects(t,n){const i=t instanceof c?t.calcRect():t.ellipse,s=n instanceof c?n.calcRect():n.ellipse;return Ce(i,s)}overlaps(t,n){let i,s;return t instanceof c?n instanceof c?$(t.calcRect(),n.calcRect()):(i=n.ellipse,$(t.calcRect(),i)):n instanceof c?(i=t.ellipse,$(i,n.calcRect())):(i=t.ellipse,s=n.ellipse,$(i,s))}toString(){return this.internalSheet.toFormulaString()}}class j{constructor(t,n,i){if(this.center=t,this.radiusX=n,this.radiusY=i,!Number.isFinite(this.radiusX)||!Number.isFinite(this.radiusY))throw new Error("A radius passed into an Ellipse construction was NaN or Infinity.");if(this.radiusX!==void 0&&this.radiusX<0)throw new Error("Horizontal radius in an Ellipse construction was negative.");if(this.radiusY!==void 0&&this.radiusY<0)throw new Error("Vertical radius in an Ellipse construction was negative.");const s=new o(this.center.x-this.radiusX,this.center.y-this.radiusY);this.boundingBox=new B(s,this.radiusX*2,this.radiusY*2)}containsPoint(t){return z(this,t)<0}overlaps(t){return $(this,t)}contains(t){return X(this,t)}toString(){return"An ellipse with Center at: "+this.center.toString()+", Horizontal radius: "+this.radiusX+", Vertical radius: "+this.radiusY+", Bounding box: "+this.boundingBox.toString()}}const We=document.getElementById("theme-select");function R(e){return getComputedStyle(document.body).getPropertyValue(e)}let ke=R("--good-placement"),Ie=R("--bad-placement"),Pe=R("--canvas-items");function Be(){setTimeout(()=>{ke=R("--good-placement"),Ie=R("--bad-placement"),Pe=R("--canvas-items"),a(r)})}We.addEventListener("input",()=>{Be()});window.addEventListener("DOMContentLoaded",()=>{Be()});function g(){return Ie}function E(){return ke}function Le(){return Pe}const te=document.getElementById("canvas"),Se=te.getContext("2d");if(Se===null)throw Error("2d rendering context not supported");const d=Se;d.font="35pt arial";const je=document.getElementById("graphString"),Ue=document.getElementById("atomBox"),ve=document.getElementById("atomBoxes");ve.addEventListener("input",ze);function H(e,t){d.strokeStyle=t;const n=e.ellipse,i=n.center;d.beginPath(),d.ellipse(i.x+l.x,i.y+l.y,n.radiusX,n.radiusY,0,0,2*Math.PI),d.stroke()}function m(e,t,n){d.textBaseline="bottom";const i=d.measureText(e.identifier);d.fillStyle=t,d.strokeStyle=t,d.beginPath(),d.fillText(e.identifier,e.origin.x+l.x,e.origin.y+l.y),(ve.checked||Ue.checked&&n)&&d.rect(e.origin.x+l.x,e.origin.y+l.y-i.actualBoundingBoxAscent,e.width,e.height),d.stroke()}function Ne(e,t,n){d.beginPath(),d.strokeStyle=n;const i=e.x-t.x+l.x,s=e.y-t.y+l.y;d.rect(e.x,e.y,-i,-s),d.stroke()}function ze(){a(r)}function a(e){je.innerHTML=e.toString(),d.clearRect(0,0,te.width,te.height),Ae(e.sheet)}function Ae(e){for(let t=0;e.children.length>t;t++)e.children[t]instanceof c?Je(e.children[t]):Ae(e.children[t]);e.ellipse instanceof j&&(d.strokeStyle=Le(),d.beginPath(),d.ellipse(e.ellipse.center.x+l.x,e.ellipse.center.y+l.y,e.ellipse.radiusX,e.ellipse.radiusY,0,0,2*Math.PI),d.stroke())}function Je(e){m(e,Le(),!1)}let ne,l=new o(0,0),se;function qe(e){ne=new o(e.x-l.x,e.y-l.y),se=!1}function Ke(e){se||(l=new o(e.x-ne.x,e.y-ne.y),a(r))}function Ze(){se=!0,a(r)}const Qe=document.getElementById("showRect"),_e=document.getElementById("mode");let J,K;function et(e){J=new o(e.clientX-l.x,e.clientY-l.y),K=!1}function tt(e){const t=new u(new j(new o(0,0),0,0)),n=new o(e.clientX-l.x,e.clientY-l.y);if(a(r),t.ellipse=Oe(J,n),!K){const s=r.canInsert(t)&&De(t.ellipse)?E():g();H(t,s),Qe.checked&&Ne(J,n,s)}}function nt(e){const t=new o(e.clientX-l.x,e.clientY-l.y),n=new u(Oe(J,t));r.canInsert(n)&&!K&&De(n.ellipse)&&r.insert(n),a(r)}function it(){K=!0,a(r)}function Oe(e,t){const n=new o((t.x-e.x)/2+e.x,(t.y-e.y)/2+e.y),i=e.x-t.x,s=e.y-t.y,f=Math.abs(i),v=Math.abs(s);let Q,_;if(_e.value==="circumscribed"){const fe=Math.floor(n.distance(t));_=Math.floor(fe*(v/f)),Q=Math.floor(fe*(f/v))}else Q=f/2,_=v/2;return new j(n,Q,_)}function De(e){return e.radiusX>15&&e.radiusY>15}const rt=document.getElementById("canvas"),He=rt.getContext("2d");if(He===null)throw Error("2d rendering context not supported");const st=He,$e=document.getElementById("atomDisplay");let C,Z,A="A";$e.innerHTML=A;function lt(e){new RegExp(/^[A-Za-z]$/).test(e.key)&&(A=e.key,$e.innerHTML=A)}function ot(e){C=st.measureText(A),Z=!1;const t=new c(A,new o(e.clientX-l.x,e.clientY-l.y),C.width,C.fontBoundingBoxDescent+C.actualBoundingBoxAscent);a(r);const n=r.canInsert(t)?E():g();m(t,n,!0)}function ct(e){const t=new c(A,new o(e.clientX-l.x,e.clientY-l.y),C.width,C.fontBoundingBoxDescent+C.actualBoundingBoxAscent);a(r),Z||(r.canInsert(t)?m(t,E(),!0):m(t,g(),!0))}function at(e){const t=new c(A,new o(e.clientX-l.x,e.clientY-l.y),C.width,C.fontBoundingBoxDescent+C.actualBoundingBoxAscent);r.canInsert(t)&&!Z&&r.insert(t),a(r)}function ut(){Z=!0,a(r)}async function ft(e,t){const n=JSON.stringify(t,null,"	"),i=await e.createWritable();await i.write(n),await i.close()}function Re(e){if(typeof e=="string"){const n=JSON.parse(e).internalSheet.internalChildren,i=new q,s=[];return n.forEach(f=>{Object.prototype.hasOwnProperty.call(f,"internalEllipse")?s.push(Xe(f)):s.push(Fe(f))}),i.sheet.children=s,i}return null}function Xe(e){const t=new j(new o(e.internalEllipse.center.x,e.internalEllipse.center.y),e.internalEllipse.radiusX,e.internalEllipse.radiusY),n=[];return e.internalChildren.forEach(i=>{"internalEllipse"in i?n.push(Xe(i)):n.push(Fe(i))}),new u(t,n)}function Fe(e){const t=e.internalIdentifier,n=new o(e.internalOrigin.x,e.internalOrigin.y);return new c(t,n,e.internalWidth,e.internalHeight)}function U(e,t){if(e.ellipse!==null){const n=S(e,t);if(!r.canInsert(n))return!1}for(let n=0;n<e.children.length;n++){if(e.children[n]instanceof u&&e.children[n].ellipse!==null&&!U(e.children[n],t))return!1;if(e.children[n]instanceof c){let i=e.children[n];if(i=b(i,t),!r.canInsert(i))return!1}}return!0}function le(e,t,n){if(e instanceof u&&e.ellipse!==null){const i=S(e,n);if(H(i,t),e.children.length!==0)for(let s=0;s<e.children.length;s++)le(e.children[s],t,n)}else if(e instanceof c){const i=b(e,n);m(i,t,!0)}}function oe(e,t){if(e instanceof u&&e.ellipse!==null){const n=S(e,t);if(r.insert(n),e.children.length!==0)for(let i=0;i<e.children.length;i++)oe(e.children[i],t)}else if(e instanceof c){const n=b(e,t);r.insert(n)}}function S(e,t){if(e.ellipse!==null)return new u(new j(new o(e.ellipse.center.x+t.x-l.x,e.ellipse.center.y+t.y-l.y),e.ellipse.radiusX,e.ellipse.radiusY));throw new Error("Cannot alter the position of a cut without an ellipse.")}function b(e,t){return new c(e.identifier,new o(e.origin.x+t.x-l.x,e.origin.y+t.y-l.y),e.width,e.height)}let I,h=null,O;function dt(e){if(I=new o(e.x-l.x,e.y-l.y),h=r.getLowestNode(I),h!==r.sheet&&h!==null){const t=r.getLowestParent(I);if(t!==null&&t.remove(I),h instanceof u&&h.children.length!==0){for(let n=0;n<h.children.length;n++)r.insert(h.children[n]);h.children=[]}O=!0}else O=!1}function ht(e){if(O){const t=new o(e.x-I.x,e.y-I.y);if(h instanceof u){const n=S(h,t);a(r);const i=r.canInsert(n)?E():g();H(n,i)}else if(h instanceof c){const n=b(h,t);a(r);const i=r.canInsert(n)?E():g();m(n,i,!0)}}}function wt(e){if(O){const t=new o(e.x-I.x,e.y-I.y);if(h instanceof u){const n=S(h,t);r.canInsert(n)?r.insert(n):r.insert(h)}else if(h instanceof c){const n=b(h,t);r.canInsert(n)?r.insert(n):r.insert(h)}a(r)}O=!1}function yt(){O&&h!==null&&r.insert(h),O=!1,a(r)}let P,y=null,D;function gt(e){if(P=new o(e.x-l.x,e.y-l.y),y=r.getLowestNode(P),y!==r.sheet&&y!==null){const t=r.getLowestParent(P);t!==null&&t.remove(P),D=!0}else D=!1}function pt(e){if(D){const t=new o(e.x-P.x,e.y-P.y);if(a(r),y instanceof u){const n=U(y,t)?E():g();le(y,n,t)}else if(y instanceof c){const n=b(y,t),i=r.canInsert(n)?E():g();m(n,i,!0)}}}function xt(e){if(D){const t=new o(e.x-P.x,e.y-P.y);if(y instanceof u)U(y,t)?oe(y,t):r.insert(y);else if(y instanceof c){const n=b(y,t);r.canInsert(n)?r.insert(n):r.insert(y)}}a(r),D=!1}function mt(){D&&y!==null&&r.insert(y),D=!1,a(r)}let F,x=null,Y;function Mt(e){F=new o(e.x-l.x,e.y-l.y);const t=r.getLowestNode(F);t!==r.sheet&&t!==null?(t instanceof u?(x=S(t,new o(0,0)),x.children=[]):t instanceof c&&(x=t),Y=!0):Y=!1}function Et(e){if(Y){const t=new o(e.x-F.x,e.y-F.y);if(x instanceof u){const n=S(x,t);a(r);const i=r.canInsert(n)?E():g();H(n,i)}else if(x instanceof c){const n=b(x,t);a(r);const i=r.canInsert(n)?E():g();m(n,i,!0)}}}function bt(e){if(Y){const t=new o(e.x-F.x,e.y-F.y);if(x instanceof u&&x.ellipse!==null){const n=S(x,t);r.canInsert(n)&&r.insert(n)}else if(x instanceof c){const n=b(x,t);r.canInsert(n)&&r.insert(n)}a(r)}Y=!1}function Ct(){Y=!1,a(r)}let T,p=null,V;function kt(e){T=new o(e.x-l.x,e.y-l.y),p=r.getLowestNode(T),p!==r.sheet&&p!==null?V=!0:V=!1}function It(e){if(V){const t=new o(e.x-T.x,e.y-T.y);if(a(r),p instanceof u){const n=U(p,t)?E():g();le(p,n,t)}else if(p instanceof c){const n=b(p,t),i=r.canInsert(n)?E():g();m(n,i,!0)}}}function Pt(e){if(V){const t=new o(e.x-T.x,e.y-T.y);if(p instanceof u)U(p,t)&&oe(p,t);else if(p instanceof c){const n=b(p,t);r.canInsert(n)&&r.insert(n)}}a(r),V=!1}function Bt(){V=!1,a(r)}let we,w=null,G;function Lt(e){we=new o(e.x-l.x,e.y-l.y),w=r.getLowestNode(we),w!==r.sheet&&w!==null&&(G=!0,w instanceof c?m(w,g(),!0):H(w,g()))}function St(e){const t=new o(e.x-l.x,e.y-l.y),n=r.getLowestNode(t);w!==null&&w!==n&&(G=!0,a(r),n===r.sheet||n===null?(w=null,G=!1):(w=n,w instanceof c?m(w,g(),!0):H(w,g())))}function vt(e){const t=new o(e.x-l.x,e.y-l.y);if(G){const n=r.getLowestParent(t);if(n!==null&&n.remove(t),w instanceof u&&w.children.length!==0)for(let i=0;i<w.children.length;i++)r.insert(w.children[i])}a(r),w=null,G=!1}function At(){w=null,G=!1}let ye,M=null,W;function Ot(e){ye=new o(e.x-l.x,e.y-l.y),M=r.getLowestNode(ye),M!==r.sheet&&M!==null&&(W=!0,ce(M,g()))}function Dt(e){const t=new o(e.x-l.x,e.y-l.y),n=r.getLowestNode(t);M!==null&&M!==r.getLowestNode(t)&&(W=!0,a(r),n===r.sheet||n===null?(M=null,W=!1):(M=n,ce(M,g())))}function Ht(e){const t=new o(e.x-l.x,e.y-l.y);if(W){const n=r.getLowestParent(t);n!==null&&n.remove(t),a(r)}M=null,W=!1}function $t(){M=null,W=!1}function ce(e,t){if(e instanceof c)m(e,t,!0);else if(e instanceof u){H(e,t);for(let n=0;n<e.children.length;n++)ce(e.children[n],t)}}let ee=!0,ge=null,pe=null;const xe=document.getElementById("DrawButtons"),me=document.getElementById("ProofButtons");function Rt(){if(ee=!ee,ee){xe.style.display="block",me.style.display="none";const e=Re(ge);if(e!==null)r.sheet=e.sheet;else throw Error("invalid cached AEG");ie(pe)}else xe.style.display="none",me.style.display="block",ge=JSON.stringify(r),pe=L,r.sheet=new q().sheet,ie(null);a(r)}const k=document.getElementById("canvas");k.width=window.innerWidth;k.height=window.innerHeight;const Ye=k.getContext("2d");if(Ye===null)throw Error("2d rendering context not supported");const Xt=Ye;Xt.font="35pt arial";const Me=document.getElementById("cutTools"),Ee=document.getElementById("atomTools");window.addEventListener("keydown",Tt);k.addEventListener("mousedown",Vt);k.addEventListener("mousemove",Gt);k.addEventListener("mouseup",Wt);k.addEventListener("mouseout",jt);k.addEventListener("mouseenter",Ut);let L=null,ae=!1,ue=!0,r=new q;window.atomMode=0;window.cutMode=1;window.dragMode=2;window.saveMode=Te;window.loadMode=Yt;window.moveSingleMode=3;window.moveMultiMode=4;window.copySingleMode=5;window.copyMultiMode=6;window.deleteSingleMode=7;window.deleteMultiMode=8;window.setMode=ie;window.setHighlight=Ft;window.toggleHandler=Rt;function Ft(e,t){const n=document.getElementById(t);switch(e){case"mousedown":n==null||n.classList.remove("no-highlight");break;case"mouseleave":n==null||n.classList.add("no-highlight");break}}const be=document.querySelectorAll(".modeButton");be.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("modeButtonPressed"),be.forEach(t=>{t!==e&&t.classList.remove("modeButtonPressed")})})});function ie(e){switch(L=e,Me.style.display="none",Ee.style.display="none",L){case 0:Ee.style.display="block";break;case 1:Me.style.display="block";break}}async function Te(){if("showSaveFilePicker"in window){const e=await window.showSaveFilePicker({excludeAcceptAllOption:!0,suggestedName:"AEG Tree",startIn:"downloads",types:[{description:"JSON Files",accept:{"text/json":[".json"]}}]});ft(e,r)}else{const e=document.createElement("a");e.href=JSON.stringify(r,null,"	"),e.download="AEGTree.json",e.click()}}async function Yt(){const[e]=await window.showOpenFilePicker({excludeAcceptAllOption:!0,multiple:!1,startIn:"downloads",types:[{description:"JSON Files",accept:{"text/json":[".json"]}}]}),t=await e.getFile(),n=new FileReader;n.addEventListener("load",()=>{const i=n.result,s=Re(i);s instanceof q&&(r=s,a(r))}),n.readAsText(t)}function Tt(e){if(e.ctrlKey&&e.key==="s")e.preventDefault(),Te();else switch(L){case 0:lt(e);break}}function Vt(e){switch(L){case 1:et(e);break;case 0:ot(e);break;case 2:qe(e);break;case 3:dt(e);break;case 4:gt(e);break;case 5:Mt(e);break;case 6:kt(e);break;case 7:Lt(e);break;case 8:Ot(e);break}ae=!0}function Gt(e){if(ae&&ue)switch(L){case 1:tt(e);break;case 0:ct(e);break;case 2:Ke(e);break;case 3:ht(e);break;case 4:pt(e);break;case 5:Et(e);break;case 6:It(e);break;case 7:St(e);break;case 8:Dt(e);break}}function Wt(e){switch(L){case 1:nt(e);break;case 0:at(e);break;case 3:wt(e);break;case 4:xt(e);break;case 5:bt(e);break;case 6:Pt(e);break;case 7:vt(e);break;case 8:Ht(e);break}ae=!1}function jt(){switch(L){case 1:it();break;case 0:ut();break;case 2:Ze();break;case 3:yt();break;case 4:mt();break;case 5:Ct();break;case 6:Bt();break;case 7:At();break;case 8:$t();break}ue=!1}function Ut(){ue=!0}function Nt(){k.width=window.innerWidth,k.height=window.innerHeight}window.onresize=Nt;
